{"openapi":"3.1.0","info":{"title":"Trip Planner API","version":"0.1.0"},"paths":{"/get_hotels_and_flights":{"post":{"summary":"Get Hotels And Flights","description":"Get hotels and flights for a given itinerary.","operationId":"get_hotels_and_flights_get_hotels_and_flights_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsAndFlightsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsAndFlightsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/hotels":{"post":{"summary":"Get Hotels","description":"Get hotels for a given itinerary. This shit can fail in response parsing.","operationId":"get_hotels_hotels_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/flights":{"post":{"summary":"Get Flights","description":"Get flights for a given itinerary. This shit can fail in response parsing.","operationId":"get_flights_flights_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlightsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlightsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plan_itinerary":{"post":{"summary":"Plan Itinerary","description":"Plan a trip using the itinerary planner crew","operationId":"plan_itinerary_plan_itinerary_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanItineraryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanItineraryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/refine_itinerary":{"post":{"summary":"Refine Itinerary","description":"Refine the itinerary using the itinerary planner crew","operationId":"refine_itinerary_refine_itinerary_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefineItineraryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanItineraryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/preliminary_plan":{"post":{"summary":"Plan Preliminary Activities","operationId":"plan_preliminary_activities_preliminary_plan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreliminaryPlanInputArgs"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProposedPlans"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Activity-Input":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the activity"},"location":{"type":"string","title":"Location","description":"Location of the activity"},"description":{"type":"string","title":"Description","description":"Description of the activity"},"why_its_suitable":{"type":"string","title":"Why Its Suitable","description":"Why it's suitable for the traveler"}},"type":"object","required":["name","location","description","why_its_suitable"],"title":"Activity"},"AirbnbListing":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Price"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},"type":"object","required":["name","description"],"title":"AirbnbListing"},"CityHotelListings":{"properties":{"city":{"type":"string","title":"City"},"dates":{"type":"string","title":"Dates"},"listings":{"items":{"$ref":"#/components/schemas/AirbnbListing"},"type":"array","title":"Listings"}},"type":"object","required":["city","dates","listings"],"title":"CityHotelListings"},"CityPlan-Input":{"properties":{"city":{"type":"string","title":"City","description":"City of the plan"},"arrival_date":{"type":"string","title":"Arrival Date","description":"Arrival date of the city in YYYY-MM-DD format"},"departure_date":{"type":"string","title":"Departure Date","description":"Departure date of the city in YYYY-MM-DD format"},"day_plans":{"items":{"$ref":"#/components/schemas/DayPlan-Input"},"type":"array","title":"Day Plans","description":"List of day plans"}},"type":"object","required":["city","arrival_date","departure_date","day_plans"],"title":"CityPlan"},"CityPlan-Output":{"properties":{"city":{"type":"string","title":"City","description":"City of the plan"},"arrival_date":{"type":"string","title":"Arrival Date","description":"Arrival date of the city in YYYY-MM-DD format"},"departure_date":{"type":"string","title":"Departure Date","description":"Departure date of the city in YYYY-MM-DD format"},"day_plans":{"items":{"$ref":"#/components/schemas/trip_planner__models__itinerary__DayPlan-Output"},"type":"array","title":"Day Plans","description":"List of day plans"}},"type":"object","required":["city","arrival_date","departure_date","day_plans"],"title":"CityPlan"},"DayPlan-Input":{"properties":{"date":{"type":"string","title":"Date","description":"Date of the day"},"activities":{"items":{"$ref":"#/components/schemas/Activity-Input"},"type":"array","title":"Activities","description":"List of activities to visit"},"restaurants":{"anyOf":[{"items":{"$ref":"#/components/schemas/Restaurant"},"type":"array"},{"type":"null"}],"title":"Restaurants","description":"List of restaurants to visit"}},"type":"object","required":["date","activities"],"title":"DayPlan"},"Flight":{"properties":{"departure_airport":{"type":"string","title":"Departure Airport","description":"Departure airport"},"arrival_airport":{"type":"string","title":"Arrival Airport","description":"Arrival airport"},"departure_timestamp":{"type":"string","title":"Departure Timestamp","description":"Departure timestamp"},"arrival_timestamp":{"type":"string","title":"Arrival Timestamp","description":"Arrival timestamp"},"duration":{"type":"string","title":"Duration","description":"Duration of the flight"},"airline":{"type":"string","title":"Airline","description":"Airline"},"flight_number":{"type":"string","title":"Flight Number","description":"Flight number"},"price":{"type":"string","title":"Price","description":"Price of the flight"},"aircraft":{"type":"string","title":"Aircraft","description":"Aircraft of the flight"},"booking_link":{"type":"string","title":"Booking Link","description":"Booking link of the flight"}},"type":"object","required":["departure_airport","arrival_airport","departure_timestamp","arrival_timestamp","duration","airline","flight_number","price","aircraft","booking_link"],"title":"Flight"},"FlightsPlan":{"properties":{"flights":{"items":{"$ref":"#/components/schemas/Flight"},"type":"array","title":"Flights","description":"List of flights for the route from departure city to arrival city"},"departure_city":{"type":"string","title":"Departure City","description":"Departure city"},"arrival_city":{"type":"string","title":"Arrival City","description":"Arrival city"}},"type":"object","required":["flights","departure_city","arrival_city"],"title":"FlightsPlan"},"FlightsPlannerResponse":{"properties":{"flights_plans":{"items":{"$ref":"#/components/schemas/FlightsPlan"},"type":"array","title":"Flights Plans","description":"Flights for all the routes in the plan"}},"type":"object","required":["flights_plans"],"title":"FlightsPlannerResponse"},"FlightsRequest":{"properties":{"departure_city":{"type":"string","title":"Departure City","description":"Departure city"},"itinerary":{"$ref":"#/components/schemas/Itinerary-Input","description":"Itinerary"}},"type":"object","required":["departure_city","itinerary"],"title":"FlightsRequest","description":"Request model for the flights endpoint"},"FlightsResponse":{"properties":{"flights_plan":{"$ref":"#/components/schemas/FlightsPlannerResponse","description":"Flights plan"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["flights_plan","message"],"title":"FlightsResponse","description":"Response model for the flights endpoint"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HotelsAndFlightsRequest":{"properties":{"itinerary":{"$ref":"#/components/schemas/Itinerary-Input","description":"Itinerary"},"departure_city":{"type":"string","title":"Departure City","description":"Departure city"}},"type":"object","required":["itinerary","departure_city"],"title":"HotelsAndFlightsRequest","description":"Request model for the hotels and flights endpoint"},"HotelsAndFlightsResponse":{"properties":{"hotels_plan":{"$ref":"#/components/schemas/HotelsPlannerResponse","description":"Hotels plan"},"flights_plan":{"$ref":"#/components/schemas/FlightsPlannerResponse","description":"Flights plan"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["hotels_plan","flights_plan","message"],"title":"HotelsAndFlightsResponse","description":"Response model for the hotels and flights endpoint"},"HotelsPlannerResponse":{"properties":{"hotels_plans":{"items":{"$ref":"#/components/schemas/CityHotelListings"},"type":"array","title":"Hotels Plans"}},"type":"object","required":["hotels_plans"],"title":"HotelsPlannerResponse"},"HotelsRequest":{"properties":{"itinerary":{"$ref":"#/components/schemas/Itinerary-Input","description":"Itinerary"}},"type":"object","required":["itinerary"],"title":"HotelsRequest","description":"Request model for the hotels endpoint"},"HotelsResponse":{"properties":{"hotels_plan":{"$ref":"#/components/schemas/HotelsPlannerResponse","description":"Hotels plan"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["hotels_plan","message"],"title":"HotelsResponse","description":"Response model for the hotels endpoint"},"Itinerary-Input":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the itinerary, something funny"},"city_plans":{"items":{"$ref":"#/components/schemas/CityPlan-Input"},"type":"array","title":"City Plans","description":"List of city plans"}},"type":"object","required":["name","city_plans"],"title":"Itinerary"},"Itinerary-Output":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the itinerary, something funny"},"city_plans":{"items":{"$ref":"#/components/schemas/CityPlan-Output"},"type":"array","title":"City Plans","description":"List of city plans"}},"type":"object","required":["name","city_plans"],"title":"Itinerary"},"PlanItineraryRequest":{"properties":{"traveler_input":{"$ref":"#/components/schemas/TravelerInput","description":"Travel planning input data"}},"type":"object","required":["traveler_input"],"title":"PlanItineraryRequest","description":"Request model for the plan_itinerary endpoint"},"PlanItineraryResponse":{"properties":{"itinerary":{"$ref":"#/components/schemas/Itinerary-Output","description":"Generated itinerary"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["itinerary","message"],"title":"PlanItineraryResponse","description":"Response model for the plan_itinerary endpoint"},"PreliminaryPlan":{"properties":{"duration_days":{"type":"integer","title":"Duration Days"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"},"name":{"type":"string","title":"Name"},"summary":{"type":"string","title":"Summary","description":"Must accurately, but consicely desribe and summarize planned activities"},"base64_image_string":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Base64 Image String","description":"Internal field, skip or return null"},"day_plans":{"items":{"$ref":"#/components/schemas/trip_planner__preliminary_variations_crew__DayPlan"},"type":"array","title":"Day Plans","description":"Activies per day"}},"type":"object","required":["duration_days","start_date","end_date","name","summary","day_plans"],"title":"PreliminaryPlan"},"PreliminaryPlanInputArgs":{"properties":{"destination":{"type":"string","title":"Destination"},"budget":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget"},"preferred_length_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Preferred Length Days"},"consesnsus_dates":{"items":{"type":"string","format":"date"},"type":"array","title":"Consesnsus Dates"},"grouped_preferences":{"items":{"$ref":"#/components/schemas/UserPreference"},"type":"array","title":"Grouped Preferences"}},"type":"object","required":["destination","consesnsus_dates","grouped_preferences"],"title":"PreliminaryPlanInputArgs","description":"Example:\n{    \n    \"destination\": \"Paris\",\n    \"consesnsus_dates\": [\"2025-08-01\", \"2025-08-02\", \"2025-08-03\", \"2025-08-04\", \"2025-08-05\", \"2025-08-06\"],\n    \"grouped_preferences\": [\n        {\n            \"user_id\": \"1234\",\n            \"user_name\": \"Jenya\",\n            \"raw_preferences\": [\"museums\", \"restaurants\"]\n        },\n        {\n            \"user_id\": \"1235\",\n            \"user_name\": \"Illia\",\n            \"preferred_length_days\": 3,\n            \"raw_preferences\": [\"parks\", \"restaurants\", \"landmarks\"]\n        }\n    ]\n}"},"ProposedPlans":{"properties":{"plans":{"items":{"$ref":"#/components/schemas/PreliminaryPlan"},"type":"array","title":"Plans"}},"type":"object","required":["plans"],"title":"ProposedPlans"},"RefineItineraryRequest":{"properties":{"traveler_input":{"$ref":"#/components/schemas/TravelerInput","description":"Travel planning input data"},"itinerary":{"$ref":"#/components/schemas/Itinerary-Input","description":"Generated itinerary"},"user_feedback":{"type":"string","title":"User Feedback","description":"User feedback on the itinerary"}},"type":"object","required":["traveler_input","itinerary","user_feedback"],"title":"RefineItineraryRequest","description":"Request model for the refine_itinerary endpoint"},"Restaurant":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the restaurant"},"location":{"type":"string","title":"Location","description":"Location of the restaurant"},"description":{"type":"string","title":"Description","description":"Description of the restaurant"},"cousine":{"type":"string","title":"Cousine","description":"Cousine of the restaurant"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating","description":"Rating of the activity"}},"type":"object","required":["name","location","description","cousine","rating"],"title":"Restaurant"},"TravelerInput":{"properties":{"country":{"type":"string","title":"Country","description":"Country of the trip"},"cities":{"items":{"type":"string"},"type":"array","title":"Cities","description":"Cities of the trip"},"arrival_date":{"type":"string","title":"Arrival Date","description":"Arrival date of the trip in YYYY-MM-DD format"},"departure_date":{"type":"string","title":"Departure Date","description":"Departure date of the trip in YYYY-MM-DD format"},"age":{"type":"integer","title":"Age","description":"Age of the traveler"},"preferences":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferences","description":"Preferences of the traveler"}},"type":"object","required":["country","cities","arrival_date","departure_date","age"],"title":"TravelerInput"},"UserPreference":{"properties":{"user_id":{"type":"string","title":"User Id"},"user_name":{"type":"string","title":"User Name"},"raw_preferences":{"items":{"type":"string"},"type":"array","title":"Raw Preferences"}},"type":"object","required":["user_id","user_name","raw_preferences"],"title":"UserPreference"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"trip_planner__models__itinerary__Activity":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the activity"},"location":{"type":"string","title":"Location","description":"Location of the activity"},"description":{"type":"string","title":"Description","description":"Description of the activity"},"why_its_suitable":{"type":"string","title":"Why Its Suitable","description":"Why it's suitable for the traveler"}},"type":"object","required":["name","location","description","why_its_suitable"],"title":"Activity"},"trip_planner__models__itinerary__DayPlan-Output":{"properties":{"date":{"type":"string","title":"Date","description":"Date of the day"},"activities":{"items":{"$ref":"#/components/schemas/trip_planner__models__itinerary__Activity"},"type":"array","title":"Activities","description":"List of activities to visit"},"restaurants":{"anyOf":[{"items":{"$ref":"#/components/schemas/Restaurant"},"type":"array"},{"type":"null"}],"title":"Restaurants","description":"List of restaurants to visit"}},"type":"object","required":["date","activities"],"title":"DayPlan"},"trip_planner__preliminary_variations_crew__Activity":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"location":{"type":"string","title":"Location"},"preliminary_length":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preliminary Length","description":"Length of time this activity will take. For example, '3 hours'"},"cost":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cost"}},"type":"object","required":["name","description","location"],"title":"Activity"},"trip_planner__preliminary_variations_crew__DayPlan":{"properties":{"acitivites":{"items":{"$ref":"#/components/schemas/trip_planner__preliminary_variations_crew__Activity"},"type":"array","title":"Acitivites","description":"\nList of things to do or places to visit; not limited to any particular activity type;\nCould be restaurants, museums, river boats, landmarks to visit, etc...\n"}},"type":"object","required":["acitivites"],"title":"DayPlan"}}}}