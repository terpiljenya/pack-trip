TripSyncÂ AI â€“ UI Requirements Document

TripSync AI â€“ the first groupâ€‘travel concierge that hears everyone, negotiates the perfect plan, and books it, all from a single chat

1Â Purpose & Scope
Define the userâ€‘experience and UI components for TripSyncÂ AI, a web app that helps small groups plan and book trips in two stages:
1. Highâ€‘level planning â€“ align travel dates, budget, destination ideas.
2. Detailed planning â€“ pick concrete flights, lodging, restaurants, and activities; split costs and book.â€¨

2Â Design Principles
* Chatâ€‘first: one continuous conversation thread is the primary surface.
* Progressive disclosure: start simple; reveal richer controls (calendar, maps, payment) only when relevant.
* Realâ€‘time collaboration: multiple users can click/vote simultaneously; updates stream live.
* Mobileâ€‘first, responsive: design at 390Â px width; optimise for desktop â‰¥1024Â px.
* Accessibility: WCAGÂ 2.2 AA contrast, keyboardâ€‘navigable, ariaâ€‘labels, colourâ€‘blindâ€‘safe palette.

3Â Personas
Persona	Needs	Devices
Traveller (Alice, Bob, Carol)	coordinate dates & budget, view options, vote, pay share	phone > laptop
System Agent	posts cards, polls, reminders	n/a
4Â Information Architecture & Screens
1. Chat Screen (root)
    * Message Thread (70Â % width desktop, full width mobile)
    * Context Drawer (30Â % width desktop, slidâ€‘over panel mobile) toggles:
        * Calendar view
        * Itinerary Board (kanbanâ€‘style day columns)
        * Map Preview (leaflet)
        * Payment Split ledger
2. Fullâ€‘screen Modals
    * Date Picker Matrix â€“ group availability grid
    * Flight Selector â€“ paginated cards
    * Lodging Selector â€“ gallery grid

5Â Interaction Flow
StageÂ 1Â â€“ Highâ€‘level Planning
1. /start system message creates TripÂ ID and invites users.
2. Each user posts a freeâ€‘text prompt ("Paris in Oct â‚¬1200" etc.).
3. Calendar Picker Matrix appears; users tap available dates â†’ matrix updates in real time.
4. Conflict Radar Banner summarises blockers ("Bob unavailable 14â€‘17Â Oct").
5. Negotiator Agent posts 3 Itinerary Option Cards.
6. Users tap Quickâ€‘Vote Chips (ğŸ‘â¤ï¸ğŸ’¸) per card.
7. When â‰¥80Â % consensus on one card â†’ StageÂ 2 trigger.
StageÂ 2Â â€“ Detailed Planning
1. Chat asks for flight/ stay/ food preferences (chips, free text, video paste).
2. Supplier Agent injects:
    * Flight Option Cards (accordion list)
    * Stay Option Cards (map pin + photo)
    * Eat Option Cards (thumbnail + tags)
3. For each category, users vote; topâ€‘scoring option locks in.
4. Payment Split Widget appears; Stripe test links generated.
5. When all payments complete â†’ show Celebration Confetti + â€œTrip locked!â€ banner.

6Â UI Component Reference
ID	Component	Props / Notes
Câ€‘01	ChatMessage	author, content, timestamp, type (user/agent/system)
Câ€‘02	QuickVoteChips	icon list [ğŸ‘,â¤ï¸,ğŸ’¸], onSelect(optionId, emoji)
Câ€‘03	CalendarMatrix	dates[][], availability[userId][date], onToggle(date)
Câ€‘04	ConflictBanner	issues[], severity colour ramps
Câ€‘05	ItineraryCard	day, activities[], cost, scorePerUser{}
Câ€‘06	OptionCard (Flight/Stay/Eat)	image, title, price, tags, CTA buttons
Câ€‘07	MapPreview	lat, lng, pins[]
Câ€‘08	PaymentSplitLedger	items[], shares{userId:amount}, status{}
Câ€‘09	StickerReply	miniâ€‘emoji reactions in chat
Câ€‘10	UploadDropzone	accepts video link or file, returns transcript tokens
Design tokens: primary #2864FF, success #00C48C, warn #FFB547, danger #FF5B5B; fonts Inter, rounded corners 1rem; shadow 0Â 0Â 8pxÂ rgba(0,0,0,.06).

7Â State Machine (highâ€‘level)
INIT âœ COLLECTING_PREFS âœ COLLECTING_DATES âœ GENERATING_HIGH_OPTIONS âœ VOTING_HIGH_LEVEL âœ ITINERARY_LOCKED âœ GENERATING_DETAIL_OPTIONS âœ VOTING_DETAIL âœ READY_TO_BOOK âœ BOOKED
Each component listens to the global tripState context and renders only when active.